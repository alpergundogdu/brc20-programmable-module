import requests


def test_brc20_balance_precompile():
    response = requests.post(
        "http://localhost:18545",
        json={
            "jsonrpc": "2.0",
            "method": "eth_call",
            "params": {
                "from": "0x1234567890123456789012345678901234567890",
                "to": "0x00000000000000000000000000000000000000ff",
                "data": "0xb9b092c80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000046f72646900000000000000000000000000000000000000000000000000000000",
            },
            "id": 65,
        },
    )
    assert response.status_code == 200
    assert (
        response.json()["result"]["resultBytes"]
        == "0x0000000000000000000000000000000000000000000000000000000000000045"  # 69
    )


if __name__ == "__main__":
    test_brc20_balance_precompile()
